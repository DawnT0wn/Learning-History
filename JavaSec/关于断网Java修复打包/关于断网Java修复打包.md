对于java，很多时候对于spring和tomcat项目打包到时候，经常用到的都是maven，但是在一些线下比赛的时候，断网的时候maven没法去下载对应的依赖包，除非本地有缓存， 当不存在的时候就需要用另外的手段去修复了，这些记录一下解压jar包和重新打包运行的命令和过程

**解压jar包**

```
可以随便用一个压缩软件解压，也可以用tar，unzip，jar命令

jar- xvf aaa.jar
会解压到当前目录，最好是一个空文件夹，方便后续打包
```

这里新创建一个空的java项目，一样的方便后续操作

对class文件反编译，可以用Idea自带的插件，也可以直接用idea打开，然后创建一个一样的java文件

java文件根据实际情况进行修复

**编译java文件**

```
正常情况下，我们一般使用javac编译
javac -d . 文件名.java进行编译

但是有可能存在本地的javac依赖不够的情况，所以这里用idea进行编译，在编译的时候添加依赖，这里有个小技巧，可以直接将原来的jar包或者war包添加到依赖，而不是解压后添加，这样对于cms的java，可以解决一个文件依赖一个文件导致要重新创造很多java的麻烦

然后可以找到在idea编译的结果可以找到对应的class文件，只需要需要修改的class文件即可，这样的修复速度也会变快
```

**打包**

```
这里不能采用maven打包了，idea打出来的jar包看起来有点问题，最好的方式就是直接替换class文件

替换了class文件要保证jar包或者war包的可用性，可以采用jar命令打包，网上有些说BandZIP也可以，我没有尝试过，我试过有效的就是jar命令

jar -cf0M aaa.jar ./*

这样打包出来的jar包是有用的，而jar -cvf打包的会找不到主清单
```



怕以后忘了命令，专门记录一下吧